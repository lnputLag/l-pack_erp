<UserControl x:Class="Client.Interfaces.Production.ProductionTaskReworkFromTask"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Client.Interfaces.Production"
             xmlns:controls="clr-namespace:Client.Interfaces.Main"
             mc:Ignorable="d" 
             d:DesignHeight="720" d:DesignWidth="1024"
             Style="{DynamicResource UserControlCanvas}">

    <UserControl.Resources>
        <ResourceDictionary>

            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/l-pack_erp;component/Assets/Styles/Common.xaml" />
            </ResourceDictionary.MergedDictionaries>

        </ResourceDictionary>
    </UserControl.Resources>

    <Border Style="{DynamicResource DataGridContainerHolder}"  >
        <Grid Style="{DynamicResource DataGridContainer}">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="820"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
                <RowDefinition Height="24"></RowDefinition>
                <RowDefinition Height="80"></RowDefinition>
                <RowDefinition Height="5"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0"  Grid.Column="0" Grid.ColumnSpan="2" Style="{DynamicResource GridControlPanel}">
                <Border >
                    <Grid >

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="11.5*"/>
                            <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0" Grid.Column="0" Name="GridToolbar" Style="{DynamicResource FormHeaderButtonsPanel}" HorizontalAlignment="Left"  >

                            <Button Name="RefreshButton"    Content="Обновить"  Style="{DynamicResource Button}" Click="RefreshButton_Click"   />
                            <Border Style="{DynamicResource FormButtonsPanelSpacer}"></Border>

                            <Label Content="Поиск:"  Style="{DynamicResource TopLabel}" />
                            <TextBox Style="{DynamicResource FormFieldTopPanel}" Width="50" TextWrapping="NoWrap" Name="SearchText" Text="" />
                            <Border Style="{DynamicResource FormButtonsPanelSpacer}"></Border>

                            <Border Style="{DynamicResource FormButtonsPanelSpacer}"></Border>
                            <Button Name="FormatResetButton" Content="Формат:"  Style="{DynamicResource Button}" Click="FormatResetButton_Click"/>

                            <StackPanel Orientation="Horizontal" Name="FormatContainer">
                                <!-- Чекбоксы с доступными форматами -->
                            </StackPanel>
                            <Border Style="{DynamicResource FormButtonsPanelSpacer}"></Border>

                            <CheckBox Name="CuttingWithLong" Content="Р. с 1 пр. резкой"  Style="{DynamicResource CheckBoxTopPanel}" />
                            <Border Style="{DynamicResource FormButtonsPanelSpacer}"></Border>

                        </StackPanel>

                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{DynamicResource FormHeaderButtonsPanel}"  HorizontalAlignment="Right" >
                            <Button Name="HelpButton"  Width="24" MinWidth="24"  Content="?"  Style="{DynamicResource Button}" Click="HelpButton_Click" Margin="0" />
                        </StackPanel>

                    </Grid>
                </Border>
            </Grid>

            <Grid Grid.Row="1"  Grid.Column="0" Grid.ColumnSpan="2" >
                <Border Style="{DynamicResource DataGridMainHolder}" >
                    <controls:GridBox x:Name="TaskGrid" />
                </Border>
            </Grid>

            <Border Grid.Row="2"  Grid.Column="0">
                <TextBlock  Name="ErrorMessage" Text="Сообщение об ошибке" TextAlignment="Left" Style="{DynamicResource FStatusBar}" HorizontalAlignment="Stretch" />
            </Border>

            <Grid Grid.Row="3"  Grid.Column="0" Grid.ColumnSpan="2">
                <Border Style="{DynamicResource DataGridMainHolder}" >
                    <controls:GridBox x:Name="PositionGrid" />
                </Border>
            </Grid>

            <Border Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="2" Style="{DynamicResource DataGridContainerHolder}" Width="1000" HorizontalAlignment="Left">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="282" />
                        <ColumnDefinition Width="100" />
                        <ColumnDefinition Width="260" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Name="TaskToolBar" Style="{DynamicResource FormHeaderButtonsPanel}" Margin="0,0,0,3">
                        <Button Name="MakeCutButton"  Content="Раскроить" Tag="access_mode_full_access" Style="{DynamicResource FButtonPrimary}" Click="MakeCutButton_Click" />
                        <Border Style="{DynamicResource FormButtonsPanelSpacer}"></Border>

                        <Button Name="SaveTaskButton" Content="Сохранить ПЗ" Tag="access_mode_full_access" Style="{DynamicResource Button}" Click="SaveTaskButton_Click" />
                        <Button Name="CloseButton" Content="Закрыть"  Style="{DynamicResource Button}" Click="CloseButton_Click" Visibility="Collapsed"/>
                    </StackPanel>

                    <Border Grid.Row="0" Grid.Column="1" HorizontalAlignment="Right">
                        <Label Content="Причина повторного выпуска:" Style="{DynamicResource TopLabel}" />
                    </Border>

                    <Border Grid.Row="0" Grid.Column="2" Style="{DynamicResource FormFieldContainer}" >
                        <controls:SelectBox x:Name="ReworkReason" Style="{DynamicResource CustomFormField}" ListBoxMinHeight="280" ListBoxMinWidth="500" SelectedItemChanged="ReworkReason_SelectedItemChanged"  />
                    </Border>

                    <Border Grid.Row="0" Grid.Column="3" HorizontalAlignment="Right">
                        <Label Content="Примечание:" Style="{DynamicResource TopLabel}" />
                    </Border>

                    <Border Grid.Row="0"  Grid.Column="4" Style="{DynamicResource FormFieldContainer}">
                        <TextBox Name="Comments"   VerticalAlignment="Stretch" MaxLength="512" TextWrapping="Wrap" AcceptsReturn="True" Style="{DynamicResource FormField}" IsReadOnly="False" />
                    </Border>
                </Grid>
            </Border>

            <Border Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="2" Name="TaskParamsPannel" Style="{DynamicResource DataGridContainerHolder}" Width="1000" HorizontalAlignment="Left">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Row="1" Grid.Column="0" HorizontalAlignment="Right">
                        <Label Content="Картон:" Style="{DynamicResource TopLabel}" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2">
                        <TextBox  Name="CardboardName" Text="Картон" TextWrapping="NoWrap" Style="{DynamicResource FormField}"  MaxLength="64" IsReadOnly="True" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="2" Grid.ColumnSpan="2">
                        <TextBox  Name="CardboardId" TextWrapping="NoWrap" Style="{DynamicResource FormField}"  MaxLength="64" IsReadOnly="True" Visibility="Collapsed" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right">
                        <Label Content="Качество:" Style="{DynamicResource TopLabel}" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="4">
                        <TextBox  Name="Quality"  TextWrapping="NoWrap" Style="{DynamicResource FormField}"  MaxLength="64" IsReadOnly="True" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="5" HorizontalAlignment="Right">
                        <Label Content="Формат:" Style="{DynamicResource TopLabel}" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="6">
                        <TextBox  Name="CuttingWidth"  TextWrapping="NoWrap" Style="{DynamicResource FormField}"  MaxLength="64" IsReadOnly="True" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="7" HorizontalAlignment="Right">
                        <Label Content="Обрезь, %:" Style="{DynamicResource TopLabel}" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="8">
                        <TextBox  Name="TrimPercentage"  TextWrapping="NoWrap" Style="{DynamicResource FormField}"  MaxLength="64" IsReadOnly="True" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="9" HorizontalAlignment="Right">
                        <Label Content="Длина, м:" Style="{DynamicResource TopLabel}" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="10">
                        <TextBox  Name="CuttingLength"  TextWrapping="NoWrap" Style="{DynamicResource FormField}"  MaxLength="64" IsReadOnly="True" />
                    </Border>
                </Grid>
            </Border>

            <Grid Grid.Row="7"  Grid.Column="0" Name="PositionsPannel" Style="{DynamicResource FromGrid}" Margin="5,0,0,0" HorizontalAlignment="Left" >

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="30" />
                    <ColumnDefinition Width="360"/>

                    <ColumnDefinition Width="200" />

                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="1"/>
                    <ColumnDefinition Width="1"/>

                    <ColumnDefinition Width="60" />
                    <ColumnDefinition Width="60" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="0" />
                    <RowDefinition Height="24" />
                    <RowDefinition Height="24" />
                    <RowDefinition Height="24"/>
                    <RowDefinition Height="24" />
                    <RowDefinition Height="24" />
                </Grid.RowDefinitions>

                <Border Grid.Row="1" Grid.Column="0" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <Label Content="Ст." ToolTip="Стекер" Style="{DynamicResource TopLabel}" />
                </Border>
                <Border Grid.Row="1" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}" Grid.ColumnSpan="2" Margin="5,0,0,0" >
                    <Label Content="Заготовка"  Style="{DynamicResource TopLabel}" />
                </Border>

                <Border Grid.Row="1" Grid.Column="2" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <Label Content="Отгрузка"  Style="{DynamicResource TopLabel}" />
                </Border>

                <Border Grid.Row="1" Grid.Column="3" Style="{DynamicResource FormGridFieldContainer}" HorizontalAlignment="Center" Margin="34,0,31,0" >
                    <Label Content="Д х Ш" ToolTip="Длина х Ширина"  Style="{DynamicResource TopLabel}" />
                </Border>

                <Border Grid.Row="1" Grid.Column="6" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <Label Content="Колич." ToolTip="Количество заготовок"  Style="{DynamicResource TopLabel}" />
                </Border>
                <Border Grid.Row="1" Grid.Column="7" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <Label Content="Потоков" ToolTip="Количество потоков" Style="{DynamicResource TopLabel}" />
                </Border>


                <Border Grid.Row="3" Grid.Column="0"   Style="{DynamicResource FormGridFieldContainer}" HorizontalAlignment="Center" Margin="16,0,15,0" />


                <Border Grid.Row="2" Grid.Column="0" Style="{DynamicResource FormGridFieldContainer}" HorizontalAlignment="Center"   >
                    <Label Content="1"  Style="{DynamicResource TopLabel}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <Border Grid.Row="2" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}" Grid.ColumnSpan="3" Margin="5,0,0,0">

                    <StackPanel Orientation="Horizontal">
                        <TextBox Name="Stacker1Blank" Style="{DynamicResource FormField}"   Width="340" TextWrapping="NoWrap"  IsReadOnly="True" >
                            <TextBox.ToolTip>
                                <StackPanel HorizontalAlignment="Stretch" Width="350" Height="150">
                                    <Grid HorizontalAlignment="Stretch">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="3*" />
                                            <ColumnDefinition Width="9*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <Label     Grid.Row="0" Grid.Column="0"  Content="Позиция:"  Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="0" Grid.Column="1"  x:Name="Stacker1PositionId" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                        <Label     Grid.Row="1" Grid.Column="0"  Content="Заготовка:"  Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="1" Grid.Column="1"  x:Name="Stacker1BlankId" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                        <TextBox Grid.Row="2" Grid.Column="1"  x:Name="Stacker1BlankCode" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                        <TextBox Grid.Row="3" Grid.Column="1"  x:Name="Stacker1BlankName" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                        <Label     Grid.Row="4" Grid.Column="0"  Content="Изделие:"      Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="4" Grid.Column="1"  x:Name="Stacker1GoodId" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                        <TextBox Grid.Row="5" Grid.Column="1"  x:Name="Stacker1GoodCode" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                        <TextBox Grid.Row="6" Grid.Column="1"  x:Name="Stacker1GoodName" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                        <Label     Grid.Row="7" Grid.Column="0"  Content="Мин обрезь:"  Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="7" Grid.Column="1"  x:Name="Stacker1TrimMin" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                        <Label     Grid.Row="8" Grid.Column="0" Content=""   Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="8" Grid.Column="1"  x:Name="Stacker1ZCardboard" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                    </Grid>
                                </StackPanel>
                            </TextBox.ToolTip>
                        </TextBox>
                    </StackPanel>


                </Border>
                <Border Grid.Row="2" Grid.Column="2" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <TextBox Name="Stacker1Shipment" HorizontalAlignment="Left" Style="{DynamicResource FormField}"   Width="185" TextWrapping="NoWrap"  IsReadOnly="True" >
                    </TextBox>
                </Border>
                <Border Grid.Row="2" Grid.Column="3" Style="{DynamicResource FormGridFieldContainer}" Margin="4,0,0,0" >
                    <TextBox Name="Stacker1Crease" HorizontalAlignment="Left" Style="{DynamicResource FormFieldDigit}" Width="40" TextWrapping="NoWrap"   IsReadOnly="True"  Margin="0,0,0,5" VerticalAlignment="Bottom" Visibility="Collapsed"/>
                </Border>
                <Border Grid.Row="2" Grid.Column="3" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <StackPanel Orientation="Horizontal">
                        <TextBox Name="Stacker1Length" HorizontalAlignment="Right" Style="{DynamicResource FormFieldDigit}" Width="40" TextWrapping="NoWrap"  IsReadOnly="True" />
                        <Label Content="x" FontSize="16" Style="{DynamicResource TopLabel}" Padding="0" VerticalAlignment="Center" TextBlock.TextAlignment="Center" HorizontalAlignment="Center" Margin="2,0,2,0" />
                        <TextBox Name="Stacker1Width" HorizontalAlignment="Right" Style="{DynamicResource FormFieldDigit}" Width="40" TextWrapping="NoWrap"  IsReadOnly="True"/>
                    </StackPanel>
                </Border>
                <Border Grid.Row="2" Grid.Column="6" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <TextBox Name="Stacker1QuantityCalculated"  HorizontalAlignment="Left" Style="{DynamicResource FormFieldDigit}" Width="50" TextWrapping="NoWrap"  VerticalAlignment="Center" TextChanged="Stacker1QuantityCalculated_TextChanged" />
                </Border>
                <Border Grid.Row="2" Grid.Column="7" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <TextBox Name="Stacker1Threads" HorizontalAlignment="Right" Style="{DynamicResource FormFieldDigit}" Width="40" TextWrapping="NoWrap" IsReadOnly="True" />
                </Border>

                <Border Grid.Row="3" Grid.Column="3" Style="{DynamicResource FormGridFieldContainer}" HorizontalAlignment="Center" Visibility="Collapsed" Margin="50,0,51,0">
                    <StackPanel Orientation="Horizontal">
                        <CheckBox Name="Stacker1NoProcessingTask" Style="{DynamicResource CheckBox}"  VerticalAlignment="Center"  Margin="-8,0,0,0" IsEnabled="False" />
                        <Label Content="Без ПЗ на переработку"  Style="{DynamicResource TopLabel}" Margin="5,0,0,0" />
                    </StackPanel>
                </Border>
                <Border Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="7" Style="{DynamicResource FormGridFieldContainer}" HorizontalAlignment="Left" Margin="5,0,0,0" >
                    <StackPanel Orientation="Horizontal" >

                        <TextBlock Text="Рилевка:" Style="{DynamicResource FormInfoLabel}"  />
                        <TextBox Name="Stacker1CreaseNote"  Width="30" IsReadOnly="True" Style="{DynamicResource FormInfoField}"  />

                        <TextBlock Text="По заданию:"  Style="{DynamicResource FormInfoLabel}" />
                        <TextBox Name="Stacker1Quantity"    Width="50" IsReadOnly="True" Style="{DynamicResource FormInfoField}"  />

                        <TextBlock Text="Изд/заг:" Style="{DynamicResource FormInfoLabel}" />
                        <TextBox Name="Stacker1ProductsFromBlank"  Width="40" IsReadOnly="True" Style="{DynamicResource FormInfoField}" />

                        <TextBlock Text="На поддоне:" Style="{DynamicResource FormInfoLabel}" />
                        <TextBox Name="Stacker1StacksInPallet"  Width="40" IsReadOnly="True" Style="{DynamicResource FormInfoField}" />

                    </StackPanel>
                </Border>

                <Border Grid.Row="4" Grid.Column="0" Style="{DynamicResource FormGridFieldContainer}" HorizontalAlignment="Center"  >
                    <Label Content="2"  Style="{DynamicResource TopLabel}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <Border Grid.Row="4" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}" Grid.ColumnSpan="3" Margin="5,0,0,0" >

                    <StackPanel Orientation="Horizontal">
                        <TextBox Name="Stacker2Blank" Style="{DynamicResource FormField}" Width="340"  TextWrapping="NoWrap"  IsReadOnly="True"   >
                            <TextBox.ToolTip>
                                <StackPanel HorizontalAlignment="Stretch" Width="350" Height="150">
                                    <Grid HorizontalAlignment="Stretch">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="3*" />
                                            <ColumnDefinition Width="9*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <Label     Grid.Row="0" Grid.Column="0"  Content="Позиция:"  Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="0" Grid.Column="1"  x:Name="Stacker2PositionId" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                        <Label     Grid.Row="1" Grid.Column="0"  Content="Заготовка:"  Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="1" Grid.Column="1"  x:Name="Stacker2BlankId" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                        <TextBox Grid.Row="2" Grid.Column="1"  x:Name="Stacker2BlankCode" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                        <TextBox Grid.Row="3" Grid.Column="1"  x:Name="Stacker2BlankName" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                        <Label     Grid.Row="4" Grid.Column="0"  Content="Изделие:"      Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="4" Grid.Column="1"  x:Name="Stacker2GoodId" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                        <TextBox Grid.Row="5" Grid.Column="1"  x:Name="Stacker2GoodCode" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>
                                        <TextBox Grid.Row="6" Grid.Column="1"  x:Name="Stacker2GoodName" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                        <Label     Grid.Row="7" Grid.Column="0"  Content="Мин обрезь:"  Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="7" Grid.Column="1"  x:Name="Stacker2TrimMin" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                        <Label     Grid.Row="8" Grid.Column="0" Content=""   Style="{DynamicResource SHMonTooltipLabel}" />
                                        <TextBox Grid.Row="8" Grid.Column="1"  x:Name="Stacker2ZCardboard" Style="{DynamicResource FormFieldDigitLabel}" ></TextBox>

                                    </Grid>
                                </StackPanel>
                            </TextBox.ToolTip>
                        </TextBox>
                    </StackPanel>

                </Border>
                <Border Grid.Row="4" Grid.Column="2" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <TextBox Name="Stacker2Shipment" HorizontalAlignment="Left" Style="{DynamicResource FormField}"  Width="185" TextWrapping="NoWrap"  IsReadOnly="True" >
                    </TextBox>
                </Border>
                <Border Grid.Row="4" Grid.Column="3" Style="{DynamicResource FormGridFieldContainer}" Margin="4,0,0,0" >
                    <TextBox Name="Stacker2Crease" HorizontalAlignment="Left" Style="{DynamicResource FormFieldDigit}" Width="40" TextWrapping="NoWrap"   IsReadOnly="True"  Margin="0,0,0,5" VerticalAlignment="Bottom" Visibility="Collapsed"/>
                </Border>
                <Border Grid.Row="4" Grid.Column="3" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <StackPanel Orientation="Horizontal">
                        <TextBox Name="Stacker2Length" HorizontalAlignment="Right" Style="{DynamicResource FormFieldDigit}" Width="40" TextWrapping="NoWrap"    IsReadOnly="True" />
                        <Label Content="x" FontSize="16" Style="{DynamicResource TopLabel}" Padding="0" VerticalAlignment="Center" TextBlock.TextAlignment="Center" Margin="2,0,2,0" />
                        <TextBox Name="Stacker2Width" HorizontalAlignment="Right" Style="{DynamicResource FormFieldDigit}" Width="40" TextWrapping="NoWrap"   IsReadOnly="True"/>
                    </StackPanel>
                </Border>
                <Border Grid.Row="4" Grid.Column="6" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <TextBox Name="Stacker2QuantityCalculated"  HorizontalAlignment="Left" Style="{DynamicResource FormFieldDigit}" Width="50" TextWrapping="NoWrap"   VerticalAlignment="Center" TextChanged="Stacker2QuantityCalculated_TextChanged" />
                </Border>
                <Border Grid.Row="4" Grid.Column="7" Style="{DynamicResource FormGridFieldContainer}" Margin="5,0,0,0" >
                    <TextBox Name="Stacker2Threads" HorizontalAlignment="Right" Style="{DynamicResource FormFieldDigit}" Width="40" TextWrapping="NoWrap" IsReadOnly="True" />
                </Border>

                <Border Grid.Row="5" Grid.Column="3" Style="{DynamicResource FormGridFieldContainer}" HorizontalAlignment="Center" Visibility="Collapsed" Margin="50,0,51,0">
                    <StackPanel Orientation="Horizontal">
                        <CheckBox Name="Stacker2NoProcessingTask" Style="{DynamicResource CheckBox}"  VerticalAlignment="Center" Margin="-8,0,0,0" IsEnabled="False"  />
                        <Label Content="Без ПЗ на переработку"  Style="{DynamicResource TopLabel}" Margin="5,0,0,0" />
                    </StackPanel>
                </Border>
                <Border Grid.Row="5" Grid.Column="2" Grid.ColumnSpan="7" Style="{DynamicResource FormGridFieldContainer}" HorizontalAlignment="Left" Margin="5,0,0,0" >
                    <StackPanel Orientation="Horizontal" >

                        <TextBlock Text="Рилевка:" Style="{DynamicResource FormInfoLabel}" />
                        <TextBox Name="Stacker2CreaseNote"  Width="30" IsReadOnly="True" Style="{DynamicResource FormInfoField}" />

                        <TextBlock Text="По заданию:"  Style="{DynamicResource FormInfoLabel}" />
                        <TextBox Name="Stacker2Quantity"    Width="50" IsReadOnly="True" Style="{DynamicResource FormInfoField}" />

                        <TextBlock Text="Изд/заг:" Style="{DynamicResource FormInfoLabel}" />
                        <TextBox Name="Stacker2ProductsFromBlank"  Width="40" IsReadOnly="True" Style="{DynamicResource FormInfoField}" />

                        <TextBlock Text="На поддоне:" Style="{DynamicResource FormInfoLabel}" />
                        <TextBox Name="Stacker2StacksInPallet"  Width="40" IsReadOnly="True" Style="{DynamicResource FormInfoField}" />

                    </StackPanel>
                </Border>
            </Grid>


            <Border Grid.Row="8" Grid.Column="0" Name="TaskMapPannel"  BorderBrush="#ff00cccc" BorderThickness="0" Margin="0,0,0,0" >
                <StackPanel Orientation="Horizontal">
                    <Border  BorderBrush="#ffcccccc" BorderThickness="1" Margin="0,-5,0,0" Width="820" Height="180" HorizontalAlignment="Left">
                        <Image Name="SchemeImage" Width="820" Height="200"  Margin="0,0,0,0"  HorizontalAlignment="Left" />
                    </Border>
                </StackPanel>
            </Border>

            <Border Grid.Row="8" Grid.Column="1" Name="SourcePannel" Style="{DynamicResource DataGridContainerHolder}">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="45" />
                        <ColumnDefinition Width="140" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="29" />
                        <RowDefinition Height="29" />
                        <RowDefinition Height="29" />
                        <RowDefinition Height="29" />
                        <RowDefinition Height="29" />
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" Grid.Column="0">
                        <Label Content="Слой"  Style="{DynamicResource TopLabel}" />
                    </Border>
                    <Border Grid.Row="0" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}" >
                        <Label Content="Бумага"  Style="{DynamicResource TopLabel}" />
                    </Border>

                    <Border Grid.Row="1" Grid.Column="0" >
                        <Label Content="1"  Style="{DynamicResource TopLabel}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <Border Grid.Row="1" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}">
                        <TextBox Name="Layer1Paper" Style="{DynamicResource FormField}" Width="130" IsReadOnly="True" />
                    </Border>

                    <Border Grid.Row="2" Grid.Column="0" >
                        <Label Content="2"  Style="{DynamicResource TopLabel}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <Border Grid.Row="2" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}">
                        <TextBox Name="Layer2Paper" Style="{DynamicResource FormField}" Width="130" IsReadOnly="True" />
                    </Border>

                    <Border Grid.Row="3" Grid.Column="0" >
                        <Label Content="3"  Style="{DynamicResource TopLabel}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <Border Grid.Row="3" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}">
                        <TextBox Name="Layer3Paper" Style="{DynamicResource FormField}" Width="130" IsReadOnly="True" />
                    </Border>

                    <Border Grid.Row="4" Grid.Column="0" >
                        <Label Content="4"  Style="{DynamicResource TopLabel}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <Border Grid.Row="4" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}">
                        <TextBox Name="Layer4Paper" Style="{DynamicResource FormField}" Width="130" IsReadOnly="True" />
                    </Border>

                    <Border Grid.Row="5" Grid.Column="0" >
                        <Label Content="5"  Style="{DynamicResource TopLabel}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <Border Grid.Row="5" Grid.Column="1" Style="{DynamicResource FormGridFieldContainer}">
                        <TextBox Name="Layer5Paper" Style="{DynamicResource FormField}" Width="130" IsReadOnly="True" />
                    </Border>
                </Grid>
            </Border>

        </Grid>
    </Border>
</UserControl>
